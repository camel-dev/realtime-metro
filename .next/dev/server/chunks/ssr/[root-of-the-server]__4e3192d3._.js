module.exports = [
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[project]/components/navigation.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>Navigation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
"use client";
;
function Navigation({ onSidebarToggle }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("nav", {
        style: {
            padding: 16,
            background: "#fff",
            borderBottom: "1px solid #eee",
            display: "flex",
            alignItems: "center"
        },
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
            onClick: onSidebarToggle,
            "aria-label": "노선 선택",
            style: {
                background: "#0052A4",
                color: "#fff",
                border: "none",
                borderRadius: 8,
                padding: "8px 18px 8px 44px",
                fontSize: 16,
                fontWeight: 600,
                cursor: "pointer",
                position: "relative",
                boxShadow: "0 2px 8px 0 rgba(0,0,0,0.07)",
                marginRight: 16,
                transition: "background 0.2s"
            },
            onMouseOver: (e)=>e.currentTarget.style.background = "#003c7a",
            onMouseOut: (e)=>e.currentTarget.style.background = "#0052A4",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    style: {
                        position: "absolute",
                        left: 18,
                        top: "50%",
                        transform: "translateY(-50%)",
                        width: 18,
                        height: 18,
                        display: "inline-block"
                    },
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                        width: "18",
                        height: "18",
                        viewBox: "0 0 18 18",
                        fill: "none",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("rect", {
                                y: "3",
                                width: "18",
                                height: "2.5",
                                rx: "1.2",
                                fill: "#fff"
                            }, void 0, false, {
                                fileName: "[project]/components/navigation.tsx",
                                lineNumber: 42,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("rect", {
                                y: "8",
                                width: "18",
                                height: "2.5",
                                rx: "1.2",
                                fill: "#fff"
                            }, void 0, false, {
                                fileName: "[project]/components/navigation.tsx",
                                lineNumber: 43,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("rect", {
                                y: "13",
                                width: "18",
                                height: "2.5",
                                rx: "1.2",
                                fill: "#fff"
                            }, void 0, false, {
                                fileName: "[project]/components/navigation.tsx",
                                lineNumber: 44,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/components/navigation.tsx",
                        lineNumber: 41,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/components/navigation.tsx",
                    lineNumber: 29,
                    columnNumber: 9
                }, this),
                "노선 선택"
            ]
        }, void 0, true, {
            fileName: "[project]/components/navigation.tsx",
            lineNumber: 9,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/components/navigation.tsx",
        lineNumber: 8,
        columnNumber: 5
    }, this);
}
}),
"[project]/components/sidebar.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>Sidebar
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
;
const lineColors = {
    "1": "#0052A4",
    "2": "#009D3E",
    "3": "#EF7C1C",
    "4": "#00A5DE",
    "5": "#996CAC",
    "6": "#CD7C2F",
    "7": "#747F00",
    "8": "#E6186C"
};
const subwayLines = Object.keys(lineColors).map((line)=>({
        name: `${line}호선`,
        color: lineColors[line],
        short: line
    }));
function Sidebar({ open, onClose, onSelectLine }) {
    if (!open) return null;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("aside", {
        style: {
            position: "fixed",
            left: 0,
            top: 0,
            width: 270,
            height: "100vh",
            background: "#f7f9fb",
            zIndex: 1000,
            padding: 28,
            boxShadow: "2px 0 16px 0 rgba(0,0,0,0.07)",
            overflowY: "auto",
            fontFamily: "Pretendard, sans-serif"
        },
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                    marginBottom: 28
                },
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                        style: {
                            margin: 0,
                            fontSize: 22,
                            fontWeight: 700,
                            color: "#222"
                        },
                        children: "서울 지하철 노선"
                    }, void 0, false, {
                        fileName: "[project]/components/sidebar.tsx",
                        lineNumber: 52,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        onClick: onClose,
                        "aria-label": "닫기",
                        style: {
                            background: "none",
                            border: "none",
                            fontSize: 28,
                            cursor: "pointer",
                            color: "#888",
                            lineHeight: 1,
                            padding: 0
                        },
                        children: "×"
                    }, void 0, false, {
                        fileName: "[project]/components/sidebar.tsx",
                        lineNumber: 55,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/components/sidebar.tsx",
                lineNumber: 44,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                style: {
                    listStyle: "none",
                    padding: 0,
                    margin: 0
                },
                children: subwayLines.map((line)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                        onClick: ()=>{
                            onSelectLine(line.short);
                            onClose();
                        },
                        style: {
                            cursor: "pointer",
                            margin: "10px 0",
                            display: "flex",
                            alignItems: "center",
                            borderRadius: 10,
                            padding: "8px 12px",
                            transition: "background 0.15s",
                            fontWeight: 500,
                            fontSize: 16,
                            userSelect: "none",
                            boxShadow: "0 1px 2px rgba(0,0,0,0.03)"
                        },
                        onMouseOver: (e)=>e.currentTarget.style.background = "#e6eef7",
                        onMouseOut: (e)=>e.currentTarget.style.background = "transparent",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                style: {
                                    display: "inline-flex",
                                    alignItems: "center",
                                    justifyContent: "center",
                                    width: 32,
                                    height: 32,
                                    borderRadius: "50%",
                                    background: line.color,
                                    color: "#fff",
                                    fontWeight: 700,
                                    fontSize: 16,
                                    marginRight: 14,
                                    border: "2px solid #fff",
                                    boxShadow: "0 2px 8px 0 rgba(0,0,0,0.10)",
                                    textAlign: "center",
                                    lineHeight: 1
                                },
                                children: line.short
                            }, void 0, false, {
                                fileName: "[project]/components/sidebar.tsx",
                                lineNumber: 95,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                style: {
                                    letterSpacing: 0.5
                                },
                                children: line.name
                            }, void 0, false, {
                                fileName: "[project]/components/sidebar.tsx",
                                lineNumber: 116,
                                columnNumber: 13
                            }, this)
                        ]
                    }, line.short, true, {
                        fileName: "[project]/components/sidebar.tsx",
                        lineNumber: 73,
                        columnNumber: 11
                    }, this))
            }, void 0, false, {
                fileName: "[project]/components/sidebar.tsx",
                lineNumber: 71,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/components/sidebar.tsx",
        lineNumber: 29,
        columnNumber: 5
    }, this);
}
}),
"[project]/components/SubwayMap.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>SubwayMap
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
;
;
const lineImages = {
    "1": "/realtime-metro/img/line1_v4.png",
    "2": "/realtime-metro/img/line2_v4.png",
    "3": "/realtime-metro/img/line3_v4.png",
    "4": "/realtime-metro/img/line4_v4.png",
    "5": "/realtime-metro/img/line5_v4.png",
    "6": "/realtime-metro/img/line6_v4.png",
    "7": "/realtime-metro/img/line7_v4.png",
    "8": "/realtime-metro/img/line8_v4.png"
};
// 호선별 대표 색상 매핑
const lineColors = {
    "1": "#0052A4",
    "2": "#00A84D",
    "3": "#EF7C1C",
    "4": "#00A2D1",
    "5": "#996CAC",
    "6": "#CD7C2F",
    "7": "#747F00",
    "8": "#E6186C"
};
function SubwayMap({ selectedLine }) {
    const [scale, setScale] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(1);
    const pinchStart = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [imgSize, setImgSize] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        width: 1,
        height: 1
    });
    const originalSize = {
        width: 1200,
        height: 800
    }; // 원본 이미지 크기로 수정
    // 이미지 로드 시 실제 렌더링 크기 저장
    const imgRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    // 바깥 div에 ref 추가
    const containerRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!imgRef.current) return;
        const handle = ()=>{
            setImgSize({
                width: imgRef.current.width,
                height: imgRef.current.height
            });
        };
        handle();
        window.addEventListener("resize", handle);
        return ()=>window.removeEventListener("resize", handle);
    }, [
        selectedLine
    ]);
    // 터치 드래그 & 핀치줌
    const onTouchStart = (e)=>{
        if (e.touches.length === 1) {
        // setDragging(true);
        // dragStart.current = {
        //   x: e.touches[0].clientX,
        //   y: e.touches[0].clientY,
        //   offsetX: drag.x,
        //   offsetY: drag.y
        // };
        } else if (e.touches.length === 2) {
            // setDragging(false);
            // dragStart.current = null;
            const dx = e.touches[0].clientX - e.touches[1].clientX;
            const dy = e.touches[0].clientY - e.touches[1].clientY;
            pinchStart.current = {
                distance: Math.sqrt(dx * dx + dy * dy),
                scale
            };
        }
    };
    const onTouchMove = (e)=>{
        if (e.touches.length === 1) {
        // setDrag({
        //   x: dragStart.current.offsetX + (e.touches[0].clientX - dragStart.current.x),
        //   y: dragStart.current.offsetY + (e.touches[0].clientY - dragStart.current.y)
        // });
        } else if (e.touches.length === 2 && pinchStart.current) {
            const dx = e.touches[0].clientX - e.touches[1].clientX;
            const dy = e.touches[0].clientY - e.touches[1].clientY;
            const newDistance = Math.sqrt(dx * dx + dy * dy);
            const newScale = Math.max(0.5, Math.min(3, pinchStart.current.scale * (newDistance / pinchStart.current.distance)));
            setScale(newScale);
        }
    };
    const onTouchEnd = (e)=>{
        // setDragging(false);
        // dragStart.current = null;
        pinchStart.current = null;
    };
    // 휠 확대/축소 (PC)
    // const onWheel = (e: React.WheelEvent) => {
    //   if (e.ctrlKey || e.metaKey) return;
    //   e.preventDefault();
    //   setScale(s => Math.max(0.5, Math.min(3, s - e.deltaY * 0.001)));
    // };
    // 실시간 열차 데이터
    const [trains, setTrains] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!selectedLine) return;
        const fetchTrains = async ()=>{
            try {
                // 호선명(1,2,3...)을 "1호선", "2호선" 등으로 변환
                const lineName = `${selectedLine}호선`;
                //const url = `http://swopenapi.seoul.go.kr/api/subway/sample/xml/realtimePosition/0/5/${lineName}`;
                //const url = `/1호선.xml`;
                const res = await fetch(`https://metro.jys5540.workers.dev/?line=${lineName}`);
                const xmlText = await res.text();
                // XML 파싱
                const parser = new DOMParser();
                const xml = parser.parseFromString(xmlText, "text/xml");
                const rows = Array.from(xml.getElementsByTagName("row"));
                const data = rows.map((row)=>({
                        trainId: row.getElementsByTagName("trainNo")[0]?.textContent ?? "",
                        statnNm: row.getElementsByTagName("statnNm")[0]?.textContent ?? "",
                        statnTnm: row.getElementsByTagName("statnTnm")[0]?.textContent ?? "",
                        updnLine: row.getElementsByTagName("updnLine")[0]?.textContent ?? "",
                        directAt: row.getElementsByTagName("directAt")[0]?.textContent ?? "",
                        trainSttus: row.getElementsByTagName("trainSttus")[0]?.textContent ?? ""
                    }));
                // 고유 값 맵 만들기
                const uniqueDataMap = new Map();
                // Map에 항목 추가 및 중복 제거
                data.forEach((item)=>{
                    // 중복 확인을 위한 키 조합
                    const key = `${item.trainId}-${item.statnNm}`;
                    // 중복되지 않는 경우에만 추가
                    if (!uniqueDataMap.has(key)) {
                        uniqueDataMap.set(key, item);
                    }
                });
                // 중복 제거된 데이터 배열 생성
                const uniqueData = Array.from(uniqueDataMap.values());
                console.warn(uniqueData);
                setTrains(uniqueData);
            } catch (e) {
                setTrains([]);
            }
        };
        fetchTrains();
        const interval = setInterval(fetchTrains, 5000);
        return ()=>clearInterval(interval);
    }, [
        selectedLine
    ]);
    // 1. stationCoords state 선언
    const [stationCoords, setStationCoords] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    // 2. 1호선일 때만 JSON에서 좌표 불러오기
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (selectedLine === "1") {
            fetch("/realtime-metro/line1_all_station_coords_updated.json").then((res)=>res.json()).then(setStationCoords);
        } else {
            setStationCoords([]);
        }
    }, [
        selectedLine
    ]);
    if (!selectedLine || !lineImages[selectedLine]) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            style: {
                textAlign: "center",
                marginTop: 100,
                color: "#888"
            },
            children: "노선을 선택하세요."
        }, void 0, false, {
            fileName: "[project]/components/SubwayMap.tsx",
            lineNumber: 178,
            columnNumber: 7
        }, this);
    }
    // 컨테이너에 overflow: hidden, 이미지에 transform 적용
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: containerRef,
        style: {
            width: "100vw",
            height: "calc(100dvh - 56px)",
            overflow: "auto",
            position: "relative",
            background: "#fafbfc"
        },
        //onWheel={onWheel}
        onTouchStart: onTouchStart,
        onTouchMove: onTouchMove,
        onTouchEnd: onTouchEnd,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            style: {
                position: "relative",
                width: `${originalSize.width * scale}px`,
                height: `${originalSize.height * scale}px`
            },
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                    ref: imgRef,
                    src: lineImages[selectedLine],
                    alt: `${selectedLine}호선 노선도`,
                    style: {
                        width: "100%",
                        height: "100%",
                        boxShadow: "0 4px 24px #0001",
                        borderRadius: 16,
                        userSelect: "none",
                        display: "block",
                        cursor: "default"
                    },
                    draggable: false,
                    onLoad: ()=>{
                        if (imgRef.current) {
                            setImgSize({
                                width: imgRef.current.naturalWidth,
                                height: imgRef.current.naturalHeight
                            });
                        }
                    },
                    onClick: (e)=>{
                        const rect = e.currentTarget.getBoundingClientRect();
                        const clickX = e.clientX - rect.left;
                        const clickY = e.clientY - rect.top;
                        // 스크롤 위치 보정
                        const scrollLeft = containerRef.current?.scrollLeft ?? 0;
                        const scrollTop = containerRef.current?.scrollTop ?? 0;
                        // 클릭 위치 + 스크롤 위치 = 이미지 내 실제 위치
                        const imgX = (clickX + scrollLeft) / scale;
                        const imgY = (clickY + scrollTop) / scale;
                        console.log(`x: ${Math.round(imgX) - 1}, y: ${Math.round(imgY) - 1}`);
                    }
                }, void 0, false, {
                    fileName: "[project]/components/SubwayMap.tsx",
                    lineNumber: 207,
                    columnNumber: 9
                }, this),
                trains.map((train)=>{
                    const coords = stationCoords.filter((station)=>{
                        if (station.name === "구로") {
                            return station.name === train.statnNm;
                        } else {
                            return station.name === train.statnNm && station.trainSttus === train.trainSttus && station.updnLine === train.updnLine;
                        }
                    });
                    // check if coords array is empty
                    if (coords.length === 0) return null;
                    // get the first matched coordinate
                    const coord = coords[0];
                    const x = coord.x * scale;
                    const baseY = coord.y * scale;
                    let offsetX = 0;
                    let offsetY = 0;
                    // 좌우로 벌릴 역 목록
                    const horizontalStations = [
                        "시청",
                        "서울",
                        "남영",
                        "용산",
                        "도봉산",
                        "도봉",
                        "방학",
                        "창동",
                        "녹천",
                        "월계",
                        "광운대",
                        "석계",
                        "가산디지털단지",
                        "독산",
                        "관악",
                        "안양",
                        "명학",
                        "금정",
                        "동암",
                        "간석",
                        "주안",
                        "도화"
                    ];
                    // 상하/좌우 분기
                    if (selectedLine !== "2") {
                        if (horizontalStations.includes(train.statnNm)) {
                            // 좌우로 15px 벌림
                            if (train.updnLine === "0") offsetX = -10;
                            else if (train.updnLine === "1") offsetX = 13;
                        } else {
                            // 기존처럼 위아래로 15px 벌림
                            if (train.updnLine === "0") offsetY = -5;
                            else if (train.updnLine === "1") offsetY = 10;
                        }
                    }
                    const trainX = x + offsetX;
                    const trainY = baseY + offsetY;
                    const iconX = x + offsetX;
                    const iconY = baseY + offsetY;
                    const fontColor = lineColors[selectedLine] || "#43a047";
                    // 상행/하행/내선/외선 특수문자 및 색상
                    let label = "";
                    let labelColor = fontColor;
                    if (selectedLine === "2") {
                        if (train.updnLine === "0") {
                            label = "↺";
                            labelColor = fontColor;
                        } else if (train.updnLine === "1") {
                            label = "↻";
                            labelColor = fontColor;
                        }
                    } else {
                        if (train.updnLine === "0") {
                            label = "▲";
                            labelColor = "#EF7C1C";
                        } else if (train.updnLine === "1") {
                            label = "▼";
                            labelColor = "#00A2D1";
                        }
                    }
                    const isExpress = train.directAt === "1" || train.directAt === "7";
                    const bgColor = "rgba(255,255,255,0.7)";
                    const uniqueKey = `${train.trainId}-${train.statnNm}`;
                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].Fragment, {
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            style: {
                                position: "absolute",
                                left: iconX - 10,
                                top: iconY - 7,
                                width: 20,
                                height: 14,
                                pointerEvents: "none",
                                zIndex: 2,
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center"
                            },
                            title: train.trainId,
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                style: {
                                    width: 30,
                                    height: 10,
                                    background: bgColor,
                                    borderRadius: "10px 10px 10px 10px / 16px 16px 16px 16px",
                                    border: isExpress ? "1px solid #e53935" : `1px solid ${fontColor}`,
                                    boxShadow: "0 2px 8px #0002",
                                    position: "relative",
                                    display: "flex",
                                    alignItems: "center",
                                    justifyContent: "center"
                                },
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        style: {
                                            fontSize: 5,
                                            color: isExpress ? "#e53935" : fontColor,
                                            fontWeight: 900,
                                            whiteSpace: "nowrap",
                                            textShadow: "0 2px 4px #fff",
                                            display: "flex",
                                            alignItems: "center"
                                        },
                                        children: [
                                            train.statnTnm,
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                style: {
                                                    marginLeft: 1,
                                                    fontSize: 5,
                                                    fontWeight: "bold",
                                                    color: labelColor
                                                },
                                                children: label
                                            }, void 0, false, {
                                                fileName: "[project]/components/SubwayMap.tsx",
                                                lineNumber: 364,
                                                columnNumber: 21
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/components/SubwayMap.tsx",
                                        lineNumber: 354,
                                        columnNumber: 19
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        style: {
                                            position: "absolute",
                                            left: 2,
                                            bottom: -3,
                                            width: 3,
                                            height: 3,
                                            background: "#bbb",
                                            borderRadius: "50%"
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/components/SubwayMap.tsx",
                                        lineNumber: 372,
                                        columnNumber: 19
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        style: {
                                            position: "absolute",
                                            right: 2,
                                            bottom: -3,
                                            width: 3,
                                            height: 3,
                                            background: "#bbb",
                                            borderRadius: "50%"
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/components/SubwayMap.tsx",
                                        lineNumber: 381,
                                        columnNumber: 19
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/components/SubwayMap.tsx",
                                lineNumber: 339,
                                columnNumber: 17
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/components/SubwayMap.tsx",
                            lineNumber: 323,
                            columnNumber: 15
                        }, this)
                    }, uniqueKey, false, {
                        fileName: "[project]/components/SubwayMap.tsx",
                        lineNumber: 321,
                        columnNumber: 13
                    }, this);
                })
            ]
        }, void 0, true, {
            fileName: "[project]/components/SubwayMap.tsx",
            lineNumber: 200,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/components/SubwayMap.tsx",
        lineNumber: 186,
        columnNumber: 5
    }, this);
}
}),
"[project]/app/layout.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>RootLayout
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$navigation$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/navigation.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$sidebar$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/sidebar.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$SubwayMap$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/SubwayMap.tsx [app-ssr] (ecmascript)");
"use client";
;
;
;
;
;
function RootLayout({ children }) {
    const [sidebarOpen, setSidebarOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [selectedLine, setSelectedLine] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("1"); // 여기 "2" → "1"로 변경
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("html", {
        lang: "en",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("body", {
            style: {
                margin: 0,
                overflow: "hidden"
            },
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    style: {
                        position: "fixed",
                        top: 0,
                        left: 0,
                        width: "100vw",
                        zIndex: 100,
                        height: 56,
                        background: "#fff"
                    },
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$navigation$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                        onSidebarToggle: ()=>setSidebarOpen(true)
                    }, void 0, false, {
                        fileName: "[project]/app/layout.tsx",
                        lineNumber: 25,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/app/layout.tsx",
                    lineNumber: 16,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$sidebar$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                    open: sidebarOpen,
                    onClose: ()=>setSidebarOpen(false),
                    onSelectLine: (line)=>{
                        setSelectedLine(line);
                    }
                }, void 0, false, {
                    fileName: "[project]/app/layout.tsx",
                    lineNumber: 28,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    style: {
                        transition: "padding-left 0.3s",
                        paddingLeft: sidebarOpen ? 250 + 20 * 2 : 0,
                        minHeight: "100dvh",
                        boxSizing: "border-box",
                        background: "#f5f6fa",
                        paddingTop: 56 // 네비게이션 높이만큼
                    },
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$SubwayMap$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                        selectedLine: selectedLine
                    }, void 0, false, {
                        fileName: "[project]/app/layout.tsx",
                        lineNumber: 46,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/app/layout.tsx",
                    lineNumber: 36,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/app/layout.tsx",
            lineNumber: 14,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/app/layout.tsx",
        lineNumber: 13,
        columnNumber: 5
    }, this);
}
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/action-async-storage.external.js [external] (next/dist/server/app-render/action-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/action-async-storage.external.js", () => require("next/dist/server/app-render/action-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/dynamic-access-async-storage.external.js [external] (next/dist/server/app-render/dynamic-access-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/dynamic-access-async-storage.external.js", () => require("next/dist/server/app-render/dynamic-access-async-storage.external.js"));

module.exports = mod;
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__4e3192d3._.js.map